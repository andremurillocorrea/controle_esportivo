<p id="notice"><%= notice %></p>
<%= search_form_for @q do |f| %>
  <%= f.label :Atleta %>
  <%= f.search_field :user_name_start %>
  
  <%= f.label :Estilo %>
  <%= f.select :style_eq, ['Borboleta', 'Costas', 'Peito', 'Livre', 'Medley'], include_blank: true %>
  
  <%= f.label :DistÃ¢ncia %>
  <%= f.select :distance_eq, [ 50, 100, 200, 400, 800, 1500], include_blank: true %>

  <%= f.label :pool_length %>
  <%= f.select :pool_length_eq, [ 25, 50], include_blank: true %>
    
  <%= f.label :Data_minima %>
  <%= f.date_select :date_gteq, {order:  [:day, :month, :year],include_blank: true}   %>

  <%= f.label :Data_maxima %>
  <%= f.date_select :date_lteq, {order:  [:day, :month, :year],include_blank: true}   %>
    
  <%= f.submit "Busca" %>
  
<% end %>
<h1>Performances</h1>

<table>
  <thead>
    <tr>
	  <th>User</th>
      <th>Style</th>
      <th>Distance</th>
      <th>Pool length</th>
      <th>Time</th>
      <th>Date</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @performances.each do |performance| %>
      <tr>
	    <td><%= performance.user.name %></td>
        <td><%= performance.style %></td>
        <td><%= String(performance.distance) + 'm' %></td>
        <td><%= String(performance.pool_length) + 'm' %></td>
        <% if performance.time >= 60 %>
          <% @minute = Integer(performance.time)/60 %>
          <% @remainder_sec = (performance.time%60).floor %>
          <% @remainder = Integer((performance.time%1)*100)%>
          <td><%= String(@minute) + '.' + String(@remainder_sec) + ':' + String(@remainder) %></td>
        <% else %> 
          <td><%= performance.time %></td>
        <% end %>
        <td><%= performance.date.strftime("%d/%m/%Y") %></td>
        <td><%= link_to 'Show', performance %></td>
        <td><%= link_to 'Edit', edit_performance_path(performance) %></td>
        <td><%= link_to 'Destroy', performance, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Performance', new_performance_path %>
